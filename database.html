<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Studios DB | Game Industry Resources ðŸŒŽ</title>
  <meta name="description" content="Directorio completo de estudios de videojuegos en LatinoamÃ©rica.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Press+Start+2P&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="styles/design-system.css">
</head>

<body>
  <!-- Navigation -->
  <nav class="nav">
    <div class="nav__container container">
      <a href="index.html" class="nav__logo">
        <span class="nav__logo-icon">ðŸŽ®</span>
        <span>Game<span style="color:var(--neon-pink)">Dev</span> Resources</span>
      </a>
      <ul class="nav__menu">
        <li><a href="index.html#resources" class="nav__link" data-i18n="nav.resources">Recursos</a></li>
        <li><a href="jobs.html" class="nav__link" data-i18n="nav.jobs">Jobs & Career</a></li>
        <li><a href="database.html" class="nav__link nav__link--active" data-i18n="nav.studios">Studios DB</a></li>
        <li><a href="https://comunidad.uetc.mx" target="_blank" class="nav__link"
            data-i18n="nav.community">Comunidad</a></li>
      </ul>
      <div class="nav__cta">
        <div class="lang-switch">
          <a href="#" class="btn btn-ghost btn-sm lang-btn" data-lang="es">ES</a>
          <a href="#" class="btn btn-ghost btn-sm lang-btn" data-lang="en">EN</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <header class="hero">
    <div class="container">
      <div class="hero__content">
        <span class="hero__badge" data-i18n="hero.badge.studios">ðŸŒŽ LATAM POWER Active</span>
        <h1 class="hero__title" data-i18n="hero.title.database">LATAM STUDIOS DB</h1>
        <p class="hero__subtitle" data-i18n="hero.subtitle.database">El mapa mÃ¡s completo de la industria en
          LatinoamÃ©rica.</p>
      </div>
    </div>
  </header>

  <!-- Search & Filters (Terminal Style) -->
  <section class="container" style="margin-top: -50px; position: relative; z-index: 10;">
    <div class="search-terminal"
      style="background:#050510; border:2px solid var(--neon-cyan); border-radius:12px; overflow:hidden; box-shadow:0 0 30px rgba(0,255,255,0.2);">
      <div class="terminal-header" style="background:#1a1a3e; padding:10px 20px; display:flex; gap:10px;">
        <span class="terminal-dot" style="background:#ff5f56; width:12px; height:12px; border-radius:50%;"></span>
        <span class="terminal-dot" style="background:#ffbd2e; width:12px; height:12px; border-radius:50%;"></span>
        <span class="terminal-dot" style="background:#27c93f; width:12px; height:12px; border-radius:50%;"></span>
        <span style="font-family:monospace; font-size:0.7rem; color:#aaa; margin-left:auto;">query_studios.sh</span>
      </div>
      <div class="terminal-body" style="padding:20px; display:flex; align-items:center; gap:15px;">
        <span style="color:var(--neon-green); font-family:monospace; font-weight:bold;">></span>
        <input type="text" class="terminal-input" placeholder="Search by name, tech or country..."
          style="background:transparent; border:none; color:var(--neon-cyan); font-family:var(--font-heading); font-size:0.7rem; flex:1; outline:none;"
          id="studioSearch">
      </div>
    </div>

    <!-- Filter Chips -->
    <div class="filters-bar" style="display:flex; justify-content:center; gap:1rem; flex-wrap:wrap; margin:2rem 0;"
      id="filterBar">
      <button class="btn btn-ghost active filter-chip"
        style="font-size:0.6rem; border:1px solid var(--border-subtle); border-radius:50px;">TODO</button>
      <button class="btn btn-ghost filter-chip"
        style="font-size:0.6rem; border:1px solid var(--border-subtle); border-radius:50px; color:var(--neon-orange);">ðŸ”¥
        HIRING</button>
      <button class="btn btn-ghost filter-chip"
        style="font-size:0.6rem; border:1px solid var(--border-subtle); border-radius:50px;">ðŸ‡²ðŸ‡½ MÃ‰XICO</button>
      <button class="btn btn-ghost filter-chip"
        style="font-size:0.6rem; border:1px solid var(--border-subtle); border-radius:50px;">ðŸ‡¨ðŸ‡´ COLOMBIA</button>
      <button class="btn btn-ghost filter-chip"
        style="font-size:0.6rem; border:1px solid var(--border-subtle); border-radius:50px;">ðŸ‡¦ðŸ‡· ARGENTINA</button>
      <button class="btn btn-ghost filter-chip"
        style="font-size:0.6rem; border:1px solid var(--border-subtle); border-radius:50px;">ðŸ‡§ðŸ‡· BRAZIL</button>
    </div>
  </section>

  <!-- Studios Grid -->
  <section class="section container">
    <div class="grid grid-3" id="studiosGrid">
      <p class="text-center" data-i18n="ui.loading">Accessing database... ðŸ’¾</p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer__grid">
        <div class="footer__brand">
          <div class="footer__logo">ðŸŽ® GameDev Resources</div>
          <p class="footer__tagline" data-i18n="footer.tagline">Recursos premium gratuitos para LATAM.</p>
        </div>
      </div>
    </div>
  </footer>

  <script src="i18n.js"></script>
  <script src="gamification.js"></script>
  <script src="scripts/studios.js"></script>
  <script>
    // Overriding the studios.js render behavior to ensure it works with the current DOM IDs
    function customRender(filter = "TODO", searchQuery = "") {
      const grid = document.getElementById("studiosGrid");
      grid.innerHTML = "";

      const filtered = studios.filter(s => {
        const matchesFilter = filter === "TODO" ||
          (filter === "HIRING" && s.hiring) ||
          (filter === "MÃ‰XICO" && s.country === "MX") ||
          (filter === "COLOMBIA" && s.country === "CO") ||
          (filter === "ARGENTINA" && s.country === "AR") ||
          (filter === "BRAZIL" && s.country === "BR");

        const matchesSearch = s.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
          s.description.toLowerCase().includes(searchQuery.toLowerCase());
        return matchesFilter && matchesSearch;
      });

      filtered.forEach((s, idx) => {
        const card = document.createElement("a");
        card.href = s.url;
        card.target = "_blank";
        card.className = "card";
        card.style.animationDelay = `${idx * 50}ms`;
        card.innerHTML = `
                ${s.hiring ? '<span class="card__badge card__badge--hot" style="position:absolute; top:10px; right:10px;">Hiring</span>' : ''}
                <span style="font-size:3rem; display:block; margin-bottom:1rem;">${getIcon(s.type)}</span>
                <h3 class="card__title">${s.name} ${s.flag}</h3>
                <p class="card__description">${s.description}</p>
                <div style="margin-top:1rem; display:flex; gap:5px; flex-wrap:wrap;">
                    ${s.tags.map(t => `<span style="font-size:0.6rem; background:rgba(0,255,255,0.1); padding:2px 8px; border-radius:4px; color:var(--neon-cyan)">${t}</span>`).join('')}
                </div>
            `;
        grid.appendChild(card);
      });
    }

    function getIcon(type) {
      if (type.includes("AAA")) return "ðŸ¢";
      if (type.includes("Indie")) return "ðŸ‘¾";
      if (type.includes("Mobile")) return "ðŸ“±";
      if (type.includes("Co-dev")) return "ðŸ¤";
      return "ðŸŽ®";
    }

    document.addEventListener("DOMContentLoaded", () => {
      customRender();

      document.getElementById("studioSearch").addEventListener("input", (e) => {
        const activeFilter = document.querySelector(".filter-chip.active").innerText.replace('ðŸ”¥ ', '').replace('ðŸ‡²ðŸ‡½ ', '').replace('ðŸ‡¨ðŸ‡´ ', '').replace('ðŸ‡¦ðŸ‡· ', '').replace('ðŸ‡§ðŸ‡· ', '');
        customRender(activeFilter === "HIRING" ? "HIRING" : activeFilter, e.target.value);
      });

      document.querySelectorAll(".filter-chip").forEach(btn => {
        btn.addEventListener("click", () => {
          document.querySelectorAll(".filter-chip").forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          const filter = btn.innerText.replace('ðŸ”¥ ', '').replace('ðŸ‡²ðŸ‡½ ', '').replace('ðŸ‡¨ðŸ‡´ ', '').replace('ðŸ‡¦ðŸ‡· ', '').replace('ðŸ‡§ðŸ‡· ', '');
          customRender(filter === "HIRING" ? "HIRING" : filter, document.getElementById("studioSearch").value);
        });
      });
    });
  </script>
</body>

</html>